<% layout("layout/boilerplate") %>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
      <h3 class="mb-4 fw-bold text-start">Listing Details</h3>

      <div class="card shadow-sm border-0 rounded-4">
        <img 
          src="<%= listing.image?.url || '/images/default-listing.jpg' %>" 
          class="card-img-top rounded-top-4" 
          alt="listing image"
        >

        <div class="card-body px-4 py-3">
          <h5 class="card-title fw-bold mb-2">
            <%= listing.title || 'Untitled Listing' %>
          </h5>
          <p class="card-text mb-2">
            <%= listing.description || 'No description provided.' %>
          </p>

          <p class="mb-1 fw-medium">
            â‚¹ <%= listing.price ? listing.price.toLocaleString("en-IN") : 'N/A' %>
          </p>
          <p class="mb-1"><%= listing.location || 'Location Unknown' %></p>
          <p class="mb-3"><%= listing.country || 'Country Unknown' %></p>

          <div class="d-flex gap-3">
            <a 
              href="/listings/<%= listing._id %>/edit" 
              class="btn fw-semibold"
              style="background-color: #fe424d; color: white; border: none; padding: 6px 20px;"
            >
              Edit
            </a>

            <form method="POST" action="/listings/<%= listing._id %>?_method=DELETE">
              <button 
                type="submit"
                class="btn fw-semibold"
                style="background-color: #000; color: white; border: none; padding: 6px 20px;"
              >
                Delete
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
